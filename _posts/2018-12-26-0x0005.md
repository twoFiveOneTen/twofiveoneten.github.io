---
layout: post
title: "WordPress博客搬家"
date: 2018-12-26 07:31:00
categories: []
tags: []
---
有时我们会需要给自己的博客搬个家，换一个域名或服务器，此文来记录一下搬家过程。<!--more-->
> 目录

> [TOC]


## 备份WordPress文件
1. 修改wordpress站点连接
![](/img/0005/0005-1.png)
将常规设置中的wordpress地址和站点地址改为新地址（如果有需要）
1. 打包WordPress文件
打开SSH连接，进入到你的虚拟机文件夹中
```shell
cd /home/wwwroot/你的域名
```
然后打包此文件夹下所有文件
```shell
tar -zcvf 你的域名.tar.gz ./*
```
然后你可以通过ftp下载此压缩包

## 导出数据库
登录到你的Mysql数据库，然后在左边选中博客的数据库，点击上方的导出选项，然后点击页面下方的执行，就可以把博客的数据库以sql的文件形式下载到本地了
![](/img/0005/0005-2.png)
## 转移备份文件
1. 上传WordPress
首先在将要搬到的地方创建好虚拟机，具体怎么创建虚拟机，请参考[搭建WordPress博客](https://zkk.me/0x0000.html "利用WordPress搭建个人博客")一文。创建完虚拟机后，用ftp把刚才备份的你的域名.tar.gz上传到新的虚拟机的目录下，然后解压此文件
1. 上传数据库
 - 同样登录你的Mysql数据库
 - 然后选中新博客的数据库，你可以看到里面什么都没有。
 - 点击上方导入选项
 - 选择从计算机中上传
 - 然后点选择文件，把刚才下载的sql文件导入即可
 

------------


现在应该就可以输入(新)域名进行访问和管理了，提示一点，如果你还更换了域名，并且文章中的图片是存在wordpress媒体中的，那么搬家之后，文章中的图片会打不开，你需要在文章编辑页面以文本的方式修改每张图片的链接，把链接中的旧域名换成新域名。