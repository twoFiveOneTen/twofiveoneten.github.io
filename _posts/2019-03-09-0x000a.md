---
layout: post
title: "Linux网站压力测试工具webbench"
date: 2019-03-09 03:19:00
categories: []
tags: []
---
在一个网站上线前, 通常我们应该做一些相关的压力测试, 以便了解当前Web服务器在高并发高负载情况下的响应状况和速度，方便对Web服务器进行优化和重构。目前有很多免费的<!--more-->web压力测试工具可以帮助我们完成测试。本文讲解webbench的使用。

Webbench是一个在linux下使用的非常简单的网站压测工具。它使用fork()模拟多个客户端同时访问我们设定的URL，测试网站在压力下工作的性能，最多可以模拟3万个并发连接去测试网站的负载能力。
> 目录

> [TOC]


## 安装webbench
先安装依赖包
```shell
yum install ctags
```
下载软件包
```shell
wget http://home.tiscali.cz/cz210552/distfiles/webbench-1.5.tar.gz
```
解压此软件包
```shell
tar -zxvf webbench-1.5.tar.gz
```
进入软件目录并安装
```shell
cd webbench-1.5
make && make install
```
如果出现以下报错信息：
```shell
ctags *.c
/bin/sh: ctags: command not found
make: [tags] Error 127 (ignored)
install -s webbench /usr/local/bin
install -m 644 webbench.1 /usr/local/man/man1
install: cannot create regular file `/usr/local/man/man1': No such file ordirectory
make: *** [install] Error 1
```
解决方法：
```shell
mkdir -p /usr/local/man
chmod 644 /usr/local/man
make && make install
```
看到以下内容说明安装成功
```shell
make: Nothing to be done for `all'.
install -s webbench /usr/local/bin
install -m 644 webbench.1/usr/local/man/man1
install -d /usr/local/share/doc/webbench
install -m 644 debian/copyright/usr/local/share/doc/webbench
install -m 644 debian/changelog/usr/local/share/doc/webbench
```
## 如何使用
如果要对 `http://example.com` 进行压力测试，则命令如下
```shell
webbench -c 10000 -t 120 http://example.com/
```
说明：
- -c后面接参数为并发数
- -t后面接参数时间(秒)
- 网址只能以 `http://` 开头，不能是 `https://`
- 网址必须以 `/` 结束