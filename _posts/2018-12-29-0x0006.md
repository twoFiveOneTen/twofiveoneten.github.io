---
layout: post
title: "为WordPress插件WP Mail SMTP配置Gmail"
date: 2018-12-29 09:31:00
modified: 2020-04-29 08:35:59
slug: 0x0006
categories: []
tags: []
comments: true
views: 3066
---
WP Mail SMTP是一个可以让你的博客自动发送邮件的WordPress插件，让你的博客有新评论或访客有留言时可以发邮件提醒你。这篇文章记录一下怎么为这个插件配置Gmail，让它可以自动用这个Gmail发送邮件<!--more-->（需要科学上网）
> 目录

> [TOC]


## 安装插件
在搜索插件页面搜索 “WP Mail SMTP” ，如图中第一个就是，安装后启用
![](/img/0006/0006-1.png)
## 配置插件
在WordPress设置中进入WP Mail SMTP设置页面
From Email填写你要配置的Google邮箱，From Name填写的是它自动发送邮件时的发送人名称。
![](/img/0006/0006-2.png)
Mailer选择Google
![](/img/0006/0006-3.png)

------------


下面获取此Gmail邮箱的`Client ID`和`Client Secret`
![](/img/0006/0006-4.png)
1. 登录Google云平台，[cloud.google.com](https://console.cloud.google.com "cloud.google.com")
1. 进入控制台
1. 进入首页，然后新建项目，项目名称和位置默认就可以
![](/img/0006/0006-5.png)
1. 在左侧导航菜单中打开API和服务，选择凭据
![](/img/0006/0006-6.png)
1. 然后进入OAuth同意屏幕，这个页面需要设置以下两项，应用名称需要写一个能证明此请求来自Google或您所在的公司，否则会无法保存，图中是”mail from google”
![](/img/0006/0006-7.png)
1. 下面还有一项是已获授权的网域，需要填写你的域名，输入完域名记得【Enter】，然后点击下方的保存
![](/img/0006/0006-8.png)
1. 进入凭据项目后，选择凭据并创建凭据，类型选择OAuth客户端ID
![](/img/0006/0006-9.png)
1. 应用类型选择网页应用，其中已获授权的JavaScript来源填写你的网站，记住要加`http://`或者`https://`，已获授权的重定向URI填写插件设置中给定的Authorized redicted URI（图中忘记填写）。填写完毕，创建
![](/img/0006/0006-10.png)
1. 然后你会获得Client ID和Client Secret，填写到设置中
1. 进入“库”，找到Gmail API，选择启用
1. 还剩最后一项，下面回到插件设置页面，点击Authorization后面那个长长的橙色按钮
![](/img/0006/0006-11.png)
1. 点击上方橙色按钮后，会弹出一个警告页面，显示此应用未经验证，点击左下角的高级，然后点击转至你的网站
![](/img/0006/0006-12.png)
1. 然后再弹出的Gmail申请页面点击允许
![](/img/0006/0006-13.png)
1. 最后一步，回到插件设置页面，选择Email Test，填写一个其他邮箱，然后Send Email测试以下看看能否收到