---
layout: post
title: "Typecho博客去除链接中的index.php"
date: 2019-03-12 14:48:00
categories: []
tags: []
---
在基于typecho搭建的博客中，除了首页外的其他页面的链接中总是多一个index.php，影响其实不大，不过对于像我这样的强迫症患者来说，真的很难受！

这里写一下如何去除这个多余的`index.php`，很简单！<!--more-->
> 目录

> [TOC]

## 修改后台
1. 首先进入网站后台，进入设置->永久链接
1. `是否使用地址重写`选择启用，然后保存设置
1. 如果弹出提示重写功能检测失败, 请检查你的服务器设置，则勾选仍然启用
![](/img/000c/000c-1.jpg)
1. 设置好自定义文章路径后保存设置

## 修改nginx
在`nginx`中添加以下代码
```shell
if (!-e $request_filename) {
    rewrite ^(.*)$ /index.php$1 last;
}
location ~ .*\.php(/.*)*$ {
    include fastcgi.conf;
    fastcgi_pass  127.0.0.1:9000;
}
```
添加代码后重新载入nginx
```shell
service nginx reload
```
然后，就成功了。你会发现你的网站不会再有多余的`index.php`了。