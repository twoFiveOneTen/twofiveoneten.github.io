---
layout: post
title: "MySQL 8.0用户和数据库管理"
date: 2019-04-06 10:31:00
categories: ["MySQL"]
tags: []
---
由于Mysql 8.0的某些命令行操作与之前版本有所不同，所以我记录一下部分基本操作，主要是用户管理的基本操作，以便于以后查阅。<!--more-->
> 目录

>[TOC]

##  数据库
- 以root身份登录数据库
```shell
[root@hwc ~]# mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 349
Server version: 8.0.15 MySQL Community Server - GPL
```
- 新增数据库
新增一个数据库名为`uuwosiDB`
```shell
MySQL> create database uuwosiDB;
Query OK, 1 row affected (0.01 sec)
```
- 删除数据库
删除数据库`uuwosiDB`
```shell
MySQL> drop database uuwosiDB;
Query OK, 0 rows affected (0.01 sec)
```
- 列出所有数据库
```shell
MySQL> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| uuwosiDB           |
+--------------------+
5 rows in set (0.00 sec)
```
- 导出数据库
导出数据库`uuwosiDB`为`uuwosiDB.sql`到当前文件夹下，前提是此用户要对此数据库有此权限
```shell
mysqldump -u用户名 -p密码 uuwosiDB > uuwosiDB.sql
```
- 导入数据库
将数据库文件`uuwosiDB.sql`导入到数据库`uuwosiDB`中，注意要写出此数据库文件的路径
```shell
mysqldump -u用户名 -p密码 uuwosiDB < uuwosiDB.sql
```

## 用户管理
- 新增用户
新增用户`test`，密码为`password`
```shell
MySQL> CREATE USER 'test'@'localhost' IDENTIFIED BY 'password';
```
- 授权
授权用户`test`拥有数据库`uuwosiDB`的所有权限
```shell
MySQL> GRANT ALL ON uuwosiDB.* TO 'test'@'localhost' WITH GRANT OPTION;
```
- 修改密码
修改用户`root`的密码为`newpasswd`
```
MySQL > set password for 'root'@'localhost' = password('newpasswd');
```
- 删除用户test
```shell
MySQL> DROP USER 'test'@'localhost';
Query OK, 0 rows affected (0.01 sec)
```
注：如果有需要，请将'localhost'改为正确的值，如何查看正确值？请看本文后面的`展示所有用户`，其中用户后面的`Host`值便是
- 刷新系统权限表
```shell
MySQL> flush privileges;
Query OK, 0 rows affected (0.01 sec)
```
- 展示所有用户
```shell
MySQL> SELECT User, Host FROM mysql.user;
+------------------+-----------+
| User             | Host      |
+------------------+-----------+
| root             | 127.0.0.1 |
| test             | localhost |
| mysql.infoschema | localhost |
| mysql.session    | localhost |
| mysql.sys        | localhost |
| root             | localhost |
+------------------+-----------+
6 rows in set (0.00 sec)
```
- 退出MySQL
```shell
MySQL> exit;
Bye
```