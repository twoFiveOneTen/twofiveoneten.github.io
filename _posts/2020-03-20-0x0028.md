---
layout: post
title: "不用数据线，ADB无线调试"
date: 2020-03-19 16:09:00
categories: ["Android"]
tags: []
---
之前在真机调试Android应用时总是用一根USB数据线连接到电脑上，感觉不太方便。今天搞了一下无线调试，这里记录一下。<!--more-->
此方法使用TCP/IP协议连接，实现ADB无线调试。
1. 手机和电脑需要连在同一个局域网中
2. 手机使用数据线连接电脑
3. 在CMD输入以下命令查看手机IP
```shell
adb shell ifconfig wlan0
```
得到结果如下图，IP为`192.168.10.238`
[![查看ip](/img/0028/0028-1.png "查看ip")](/img/0028/0028-1.png "查看ip")
如果CMD提示为未知命令，那就先去配置一下环境变量。
如果出现错误如下图，请更换一条数据线。我也遇到了某些Micro USB数据线不支持调试的情况。
[![未发现设备](/img/0028/0028-2.png "未发现设备")](/img/0028/0028-2.png "未发现设备")
4. 设置连接端口号（可自己指定）
```shell
adb tcpip 5555
```
5. 此时可以拔下数据线。通过命令连接手机（注意更换为自己手机的IP）
```shell
adb connect 192.168.10.238
```

完整操作如下图
[![完整操作](/img/0028/0028-3.png "完整操作")](/img/0028/0028-3.png "完整操作")

然后测试一下，在程序中打个断点，查看一下数据，确认可以调试没问题。
[![成功调试图](/img/0028/0028-4.png "成功调试图")](/img/0028/0028-4.png "成功调试图")

当调试结束时断开与手机的连接
```shell
adb disconnect 192.168.10.238
```
以后在需要真机调试的时候只需要手机与电脑连接在同一个局域网下，然后通过上面第五步的命令连接即可。

> REFERENCE
- <a href="https://blog.csdn.net/u012124438/article/details/94434369?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task" target="_blank">android不用USB线进行adb调试</a>