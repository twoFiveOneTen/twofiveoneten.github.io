---
layout: post
title: "解锁网易云音乐下架歌曲"
date: 2020-05-05 15:21:00
categories: ["发现"]
tags: []
---
安装Nodejs
```shell
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum -y install nodejs
```
安装suervisor
```shell
yum -y install epel-release
yum -y install supervisor
```
clone代码
```shell
git clone https://github.com/nondanee/UnblockNeteaseMusic.git
cd UnblockNeteaseMusic
```
# 启动服务端
第一种方式监听80端口：
```shell
node app.js -p 80
```
Windows修改Hosts文件：
```shell
C:\Windows\System32\drivers\etc\hosts
```
在此文件末尾添加下面规则
```shell
VPSIP music.163.com
VPSIP interface.music.163.com
```

第二种方式监听其他端口，例如：
```shell
node app.js -p 65535
```
然后再网易云客户端设置HTTP代理
使用supervisor放到后台运行：
```shell
nano /etc/supervisord.d/netease.ini
```
写入（正式使用应该加上-s参数，防止代理被滥用）：
```shell
[supervisord]
nodaemon=false

[program:netease]
user=root
directory=/opt/UnblockNeteaseMusic
command=/usr/bin/node app.js -s -p 65535
autostart=true
autorestart=true
```
启动
```shell
systemctl start supervisord
systemctl enable supervisord
```

> REFERENCE
- <a href="https://www.ecsoe.com/archives/26.html">解锁网易云音乐下架歌曲</a>