---
layout: post
title: "升级PHP7后Typecho显示数据库错误的解决办法"
date: 2019-08-25 16:25:00
categories: ["PHP"]
tags: []
---
今天把我的博客搬了一下家，换了一个服务器。但是在我认为所有的搬家操作进行完后，发现网站打开后显示数据库错误。确认数据库密码无误后找到了这个问题，原因是 PHP7 已经放弃了使用<!--more-->`mysql`方法连接数据库，而是使用`mysqli`或`pdo`方法。所以如果你安装 Typecho 的时候选择的数据库是 Mysql ，那么你从 PHP7 之前的版本升级到 PHP7 之后，数据库就连不上了。
## 解决方法
修改 Typecho 配置文件`config.inc.php`，把
```php
$db = new Typecho_Db('Mysql', 'typecho_');
```
修改为
```php
$db = new Typecho_Db('Pdo_Mysql', 'typecho_');
```
然后保存此配置文件就可以了
