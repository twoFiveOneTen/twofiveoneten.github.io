---
layout: post
title: "MySQL设置 InnoDB 为默认引擎"
date: 2019-05-22 11:33:00
modified: 2019-08-20 10:03:07
slug: 0x0015
categories: []
tags: []
comments: true
views: 2148
---
MySQL有很多不同的引擎，不同的引擎有着不同的功能，有时候会需要切换到其他引擎来做一些工作。这里记录一下怎么激活 InnoDB 引擎。<!--more-->

## 演示环境
1. 本文假设数据库配置文件`my.cnf`的路径为`/etc/my.cnf`
1. 假设数据库用户`root`的密码为`password`
1. Linux系统

## 操作
1. 首先在shell登陆到数据库
```shell
mysql -uroot -ppassword
#原型为 mysql -u用户 -p密码
```
1. 查看已经安装的引擎
```shell
mysql> show engines;
```
得到的结果如下图
[![](/img/0015/0015-1.png)](/img/0015/0015-1.png)
如果结果中没有`InnoDB`，那么需要安装`InnoDB`（本文没有写如何安装，懒了）。如果有`InnoDB`的话，看它的`Support`值，如果值为`YES`，表明已激活。如果是`NO`，表示未激活。
1. 编辑配置文件
```shell
vim /etc/my.cnf
```
找到`default_storage_engine`项，把它的值改为`INNODB`，如果其前面有`#`，则要将`#`删除
如果有`loose-skip-innodb`这句话，则要改为`#loose-skip-innodb`。
[![](/img/0015/0015-2.png)](/img/0015/0015-2.png)
然后保存并退出编辑
1. 重启数据库
```shell
service mysql restart
```
然后`InnoDB`就被设置为默认引擎了。